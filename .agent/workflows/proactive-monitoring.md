---
description: JARVIS가 자동으로 모니터링하는 항목들
---

# 🔍 Proactive Monitoring Workflow

JARVIS가 **배경에서 자동으로** 체크하는 항목들입니다.

매 대화 시작 시 자동 실행되며, 문제 발견 시 자연스럽게 사용자에게 알립니다.

## 1. 빌드 서버 상태 확인

### 목적

실시간으로 실행 중인 개발 서버의 에러를 감지하여 즉시 알립니다.

### 실행 방법

```bash
# 터미널 ID를 확인 후
read_terminal --name "dev-server"
```

### 체크 항목

- [ ] TypeScript 컴파일 에러
- [ ] ESLint 경고/에러
- [ ] 런타임 에러 (500, 404 등)
- [ ] 포트 충돌

### 알림 예시

```
⚠️ 빌드 서버 상태 확인:
`app/api/admin/users/route.ts:45:12` - Type error 발견
즉시 수정하시겠습니까?
```

## 2. 보안 스캔

### 목적

하드코딩된 비밀(API 키, 비밀번호 등)과 보안 설정 오류를 자동 감지합니다.

### 실행 방법

```bash
# API 키 패턴 검색
grep_search --query "sk-[a-zA-Z0-9]{48}" --is-regex true
grep_search --query "NEXT_PUBLIC_SUPABASE_ANON_KEY\s*=\s*['\"]ey" --is-regex true

# .env 파일 .gitignore 확인
view_file --path ".gitignore"
```

### 체크 항목

- [ ] 하드코딩된 API 키
- [ ] `.env` 파일이 `.gitignore`에 있는지
- [ ] `process.env` 대신 직접 값 사용
- [ ] 프로덕션 DB URL이 코드에 노출되었는지

### 알림 예시

```
🚨 보안 위험 발견:
`lib/gemini.ts:12` - API 키가 하드코딩되어 있습니다.
환경 변수로 이동하시겠습니까?
```

## 3. 문서 최신성 체크

### 목적

프로젝트 문서가 코드와 동기화되지 않은 상태를 감지합니다.

### 실행 방법

```bash
# README.md 마지막 수정 시간 확인
find_by_name --pattern "README.md" --search-directory "."
# 14일(2주) 이상 업데이트 없으면 제안
```

### 체크 항목

- [ ] `README.md` 2주 이상 방치
- [ ] `CHANGELOG.md` 미업데이트 (새 기능 추가 후)
- [ ] API 문서와 실제 엔드포인트 불일치
- [ ] 주석이 실제 코드와 다름

### 알림 예시

```
📚 문서 업데이트 제안:
README.md가 2주간 업데이트되지 않았습니다.
최근 추가된 관리자 기능을 문서화할까요?
```

## 4. 미완료 작업 추적

### 목적

`task.md`에서 오래 방치된 작업을 상기시킵니다.

### 실행 방법

```bash
# task.md 읽기
view_file --path "task.md"
# "[ ]" (미완료) 항목 중 1주 이상 된 항목 체크
```

### 체크 항목

- [ ] 1주 이상 방치된 미완료 항목
- [ ] `[/]` (진행 중)인데 3일 이상 업데이트 없음
- [ ] "TODO" 주석이 코드에 3개 이상

### 알림 예시

```
📋 미완료 작업 알림:
task.md에 "E2E 테스트 추가" 항목이 1주일째 진행 중입니다.
도움이 필요하신가요?
```

## 5. 리소스 사용량 추적

### 목적

API 비용, 저장소 용량 등 리소스 사용량을 모니터링합니다.

### 체크 항목

- [ ] Gemini API 월간 호출 수 (예산의 80% 도달 시 경고)
- [ ] Supabase Storage 용량 (무료 플랜 1GB 중 80%)
- [ ] Vercel 배포 횟수 (무료 플랜 100회 중 80회)
- [ ] 큰 이미지 파일 (50MB 이상)

### 알림 예시

```
💰 비용 경고:
이번 달 Gemini API 사용량이 예산의 85%에 도달했습니다.
최적화가 필요한 부분을 분석할까요?
```

## 6. 코드 품질 경고

### 목적

코드 복잡도가 높거나 중복이 많은 파일을 감지합니다.

### 실행 방법

```bash
# 파일 크기 확인 (500줄 이상 파일)
find_by_name --pattern "*.tsx" --search-directory "src"
# 중복 코드 패턴 검색
```

### 체크 항목

- [ ] 500줄 이상의 거대 파일
- [ ] 동일한 로직이 3곳 이상 반복
- [ ] 중첩 깊이 5 이상 (들여쓰기 지옥)
- [ ] 함수 매개변수 5개 이상

### 알림 예시

```
🔧 리팩토링 제안:
`app/admin/users/page.tsx`가 600줄을 넘었습니다.
컴포넌트를 분리하는 것이 좋겠습니다. 진행할까요?
```

## 7. 의존성 보안 체크

### 목적

취약한 npm 패키지를 감지하고 업데이트를 제안합니다.

### 실행 방법

```bash
# (수동) npm audit
run_command --cwd "." --cmd "npm audit --json"
```

### 체크 항목

- [ ] Critical 보안 취약점
- [ ] 6개월 이상 업데이트 안 된 메이저 패키지
- [ ] Deprecated 된 패키지 사용

### 알림 예시

```
🛡️ 보안 업데이트 필요:
`next` 패키지에 보안 취약점이 발견되었습니다.
v15.0.3으로 업데이트하시겠습니까?
```

## 실행 주기

- **매 대화 시작 시**: 1, 2, 4번 (빠른 체크)
- **하루 1회**: 3, 5, 6번 (중간 체크)
- **주 1회**: 7번 (느린 체크)

## 알림 우선순위

### 🔴 즉시 알림 (Critical)

- 빌드 서버 에러
- 보안 위험
- 프로덕션 배포 실패

### 🟡 자연스럽게 언급 (Medium)

- 문서 최신성
- 미완료 작업
- 리소스 사용량

### 🟢 주간 요약 (Low)

- 코드 품질
- 의존성 보안

## 사용자 설정

사용자가 원하지 않는 모니터링 항목은 `.agent/memory/USER_PROFILE.md`에서 비활성화할 수 있습니다.

```markdown
## 모니터링 설정

- 빌드 서버 체크: ✅ 활성
- 보안 스캔: ✅ 활성
- 문서 최신성: ❌ 비활성 (필요시만)
- 리소스 추적: ✅ 활성
```

---

**Note**: 이 워크플로우는 사용자의 작업을 방해하지 않도록 **조용히** 실행됩니다.
문제가 없으면 아무 알림도 하지 않습니다. 🤫
